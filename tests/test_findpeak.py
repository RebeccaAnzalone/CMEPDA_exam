import unittest
import os
import sys

import numpy as np
#import CMEPDA_exam
#from functionbox import find_peak
#import CMEPDA_exam.functionbox as fun
from CMEPDA_exam.functionbox import find_peak

array_test=np.array([0.68301077, 0.38026148, 0.89694527, 0.68396937, 0.3465238 ,
       0.02004013, 0.02979222, 0.66854284, 0.8614734 , 0.29419134,
       0.31881937, 0.27136041, 0.21353626, 0.65444386, 0.42490897,
       0.9057694 , 0.29679528, 0.89016957, 0.08536726, 0.91499372,
       0.24460321, 0.46512801, 0.75417708, 0.16906171, 0.19889818,
       0.86346202, 0.80113241, 0.14215999, 0.99332009, 0.23282936,
       0.33230911, 0.08955171, 0.57208973, 0.01554678, 0.69928315,
       0.99851429, 0.15377348, 0.52048587, 0.03361999, 0.47174062,
       0.26664681, 0.9784617 , 0.00330457, 0.20445631, 0.15358012,
       0.49547293, 0.13588696, 0.83285087, 0.12854295, 0.98451143,
       1.1,1.5,1.8,1.6,1.4,0.8,1.5,1.8,2.1,2.3,2.6,2.2,1.8,1.2,
       0.13943586, 0.51484625, 0.61234108, 0.0133307 , 0.03538676,
       0.22557883, 0.41859947, 0.91693296, 0.67043796, 0.94862351,
       0.63738216, 0.41889536, 0.67982501, 0.50623347, 0.25296505,
       0.58325456, 0.64594771, 0.12242164, 0.05444728, 0.56765164,
       0.54960248, 0.15019829, 0.90842808, 0.40709391, 0.91826977,
       0.78088849, 0.87547893, 0.61784883, 0.36329848, 0.17936728,
       0.55741697, 0.9353609 , 0.47510941, 0.02338298, 0.60032816,
       0.29490602, 0.99802555, 0.46972789, 0.70087376, 0.56077925,
       0.07756055, 0.23396353, 0.18826872, 0.27236605, 0.47254634,
       0.00589934, 0.19206194, 0.81432554, 0.3063832 , 0.95740475])


filtered,peak = find_peak(array_test)

class Test_findpeak(unittest.TestCase):
     def test_foundpeak(self):
         self.assertEqual(peak,[61])




if __name__=='__main__':
    unittest.main()
